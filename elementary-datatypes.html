<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Statistics with R</title>
  <meta name="description" content="Syllabus for the course ‘Statistics with R’">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Statistics with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Syllabus for the course ‘Statistics with R’" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Statistics with R" />
  
  <meta name="twitter:description" content="Syllabus for the course ‘Statistics with R’" />
  

<meta name="author" content="Douwe Molenaar">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="quick-start.html">
<link rel="next" href="interacting-with-r.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script language="javascript">
  function toggle(showHideDiv, switchTextDiv) {
  	var ele = document.getElementById(showHideDiv);
	  var text = document.getElementById(switchTextDiv);
	  if(ele.style.display == "block") {
	  	ele.style.display = "none";
	  	text.innerHTML = "Show solution";
	  }
	  else {
	  	ele.style.display = "block";
      text.innerHTML = "Hide solution";
	  }
  }
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="styles/style.css" type="text/css" />
<link rel="stylesheet" href="styles/block_elements.css" type="text/css" />
<link rel="stylesheet" href="styles/localadapt.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Colophon</a></li>
<li class="chapter" data-level="1" data-path="studyguide.html"><a href="studyguide.html"><i class="fa fa-check"></i><b>1</b> Study guide</a><ul>
<li class="chapter" data-level="1.1" data-path="studyguide.html"><a href="studyguide.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="studyguide.html"><a href="studyguide.html#entry-conditions"><i class="fa fa-check"></i><b>1.2</b> Entry conditions</a></li>
<li class="chapter" data-level="1.3" data-path="studyguide.html"><a href="studyguide.html#goal-of-the-course"><i class="fa fa-check"></i><b>1.3</b> Goal of the course</a><ul>
<li class="chapter" data-level="1.3.1" data-path="studyguide.html"><a href="studyguide.html#this-is-not-a-statistics-course"><i class="fa fa-check"></i><b>1.3.1</b> This is not a statistics course</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="studyguide.html"><a href="studyguide.html#workload"><i class="fa fa-check"></i><b>1.4</b> Workload</a></li>
<li class="chapter" data-level="1.5" data-path="studyguide.html"><a href="studyguide.html#setup-and-content-of-the-course"><i class="fa fa-check"></i><b>1.5</b> Setup and content of the course</a><ul>
<li class="chapter" data-level="1.5.1" data-path="studyguide.html"><a href="studyguide.html#walk-in-hours"><i class="fa fa-check"></i><b>1.5.1</b> Walk-in hours</a></li>
<li class="chapter" data-level="1.5.2" data-path="studyguide.html"><a href="studyguide.html#syllabus"><i class="fa fa-check"></i><b>1.5.2</b> Syllabus</a></li>
<li class="chapter" data-level="1.5.3" data-path="studyguide.html"><a href="studyguide.html#assignments"><i class="fa fa-check"></i><b>1.5.3</b> Assignments</a></li>
<li class="chapter" data-level="1.5.4" data-path="studyguide.html"><a href="studyguide.html#assessment"><i class="fa fa-check"></i><b>1.5.4</b> Assessment</a></li>
<li class="chapter" data-level="1.5.5" data-path="studyguide.html"><a href="studyguide.html#evaluation-of-the-course"><i class="fa fa-check"></i><b>1.5.5</b> Evaluation of the course</a></li>
<li class="chapter" data-level="1.5.6" data-path="studyguide.html"><a href="studyguide.html#course-schedule"><i class="fa fa-check"></i><b>1.5.6</b> Course schedule</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Technical background</b></span></li>
<li class="chapter" data-level="2" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>2</b> A quick start</a><ul>
<li class="chapter" data-level="2.1" data-path="quick-start.html"><a href="quick-start.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="quick-start.html"><a href="quick-start.html#resources-for-learning-r"><i class="fa fa-check"></i><b>2.2</b> Resources for learning R</a></li>
<li class="chapter" data-level="2.3" data-path="quick-start.html"><a href="quick-start.html#other-sources-on-the-use-of-r"><i class="fa fa-check"></i><b>2.3</b> Other sources on the use of R</a></li>
<li class="chapter" data-level="2.4" data-path="quick-start.html"><a href="quick-start.html#installation-of-r"><i class="fa fa-check"></i><b>2.4</b> Installation of R</a></li>
<li class="chapter" data-level="2.5" data-path="quick-start.html"><a href="quick-start.html#starting-r"><i class="fa fa-check"></i><b>2.5</b> Starting R</a></li>
<li class="chapter" data-level="2.6" data-path="quick-start.html"><a href="quick-start.html#obtaining-help"><i class="fa fa-check"></i><b>2.6</b> Obtaining help</a></li>
<li class="chapter" data-level="2.7" data-path="quick-start.html"><a href="quick-start.html#an-r-session"><i class="fa fa-check"></i><b>2.7</b> An R-session</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html"><i class="fa fa-check"></i><b>3</b> Elementary data types and operations</a><ul>
<li class="chapter" data-level="3.1" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#the-atomic-data-types"><i class="fa fa-check"></i><b>3.1</b> The atomic data types</a></li>
<li class="chapter" data-level="3.2" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#the-basic-data-object-classes"><i class="fa fa-check"></i><b>3.2</b> The basic data object classes</a></li>
<li class="chapter" data-level="3.3" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#assigning-names-to-r-objects"><i class="fa fa-check"></i><b>3.3</b> Assigning names to R-objects</a><ul>
<li class="chapter" data-level="3.3.1" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#listing-objects-in-memory"><i class="fa fa-check"></i><b>3.3.1</b> Listing objects in memory</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#arithmetic-with-vectors-arrays-and-data-frames"><i class="fa fa-check"></i><b>3.4</b> Arithmetic with vectors, arrays, and data frames</a></li>
<li class="chapter" data-level="3.5" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#extracting-and-replacing-parts-of-data-objects"><i class="fa fa-check"></i><b>3.5</b> Extracting and replacing parts of data objects</a><ul>
<li class="chapter" data-level="3.5.1" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#extracting-a-single-sub-object-with-the-double-bracket-index-selector"><i class="fa fa-check"></i><b>3.5.1</b> Extracting a single sub-object with the double bracket index selector <code>[[</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#for-data-frames-and-lists-and-selectors-behave-similarly"><i class="fa fa-check"></i><b>3.5.2</b> For data frames and lists <code>$</code> and <code>[[</code> selectors behave similarly</a></li>
<li class="chapter" data-level="3.5.3" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#complement-syntax"><i class="fa fa-check"></i><b>3.5.3</b> Selecting portions with the single bracket selector <code>[</code></a></li>
<li class="chapter" data-level="3.5.4" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#changing-parts-of-a-vector"><i class="fa fa-check"></i><b>3.5.4</b> Changing parts of a vector</a></li>
<li class="chapter" data-level="3.5.5" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#effect-of-the-selector-operators-on-data-frames"><i class="fa fa-check"></i><b>3.5.5</b> Effect of the selector operators on data frames</a></li>
<li class="chapter" data-level="3.5.6" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#effect-of-the-selector-operators-on-arrays"><i class="fa fa-check"></i><b>3.5.6</b> Effect of the selector operators on arrays</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#removingelements"><i class="fa fa-check"></i><b>3.6</b> Removing elements from objects</a></li>
<li class="chapter" data-level="3.7" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#coercion"><i class="fa fa-check"></i><b>3.7</b> Data class conversion or coercion</a></li>
<li class="chapter" data-level="3.8" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#exercises"><i class="fa fa-check"></i><b>3.8</b> Exercises</a><ul>
<li class="chapter" data-level="" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#selection"><i class="fa fa-check"></i>Selection</a></li>
<li class="chapter" data-level="" data-path="elementary-datatypes.html"><a href="elementary-datatypes.html#more-selection-vectors-and-sequences"><i class="fa fa-check"></i>More selection, vectors and sequences</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="interacting-with-r.html"><a href="interacting-with-r.html"><i class="fa fa-check"></i><b>4</b> Interacting with R</a><ul>
<li class="chapter" data-level="4.1" data-path="interacting-with-r.html"><a href="interacting-with-r.html#controlling-r-from-a-script"><i class="fa fa-check"></i><b>4.1</b> Controlling R from a script</a></li>
<li class="chapter" data-level="4.2" data-path="interacting-with-r.html"><a href="interacting-with-r.html#other-editors"><i class="fa fa-check"></i><b>4.2</b> Other editors</a></li>
<li class="chapter" data-level="4.3" data-path="interacting-with-r.html"><a href="interacting-with-r.html#working-with-packages"><i class="fa fa-check"></i><b>4.3</b> Working with packages</a></li>
<li class="chapter" data-level="4.4" data-path="interacting-with-r.html"><a href="interacting-with-r.html#where-your-packages-are-installed"><i class="fa fa-check"></i><b>4.4</b> Where your packages are installed</a></li>
<li class="chapter" data-level="4.5" data-path="interacting-with-r.html"><a href="interacting-with-r.html#reproducible-research"><i class="fa fa-check"></i><b>4.5</b> Reproducible research</a><ul>
<li class="chapter" data-level="4.5.1" data-path="interacting-with-r.html"><a href="interacting-with-r.html#staying-organized"><i class="fa fa-check"></i><b>4.5.1</b> Staying organized</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="interacting-with-r.html"><a href="interacting-with-r.html#easy-organizing"><i class="fa fa-check"></i><b>4.6</b> Easy organizing with RStudio</a><ul>
<li class="chapter" data-level="" data-path="interacting-with-r.html"><a href="interacting-with-r.html#rmarkdown-documents"><i class="fa fa-check"></i>Rmarkdown documents</a></li>
<li class="chapter" data-level="" data-path="interacting-with-r.html"><a href="interacting-with-r.html#externalizing-code"><i class="fa fa-check"></i>Externalizing code</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="interacting-with-r.html"><a href="interacting-with-r.html#displaying-information-about-your-r-session"><i class="fa fa-check"></i><b>4.7</b> Displaying information about your R session</a></li>
<li class="chapter" data-level="4.8" data-path="interacting-with-r.html"><a href="interacting-with-r.html#citing-r-and-r-packages-in-reports-and-papers"><i class="fa fa-check"></i><b>4.8</b> Citing R and R-packages in reports and papers</a></li>
<li class="chapter" data-level="4.9" data-path="interacting-with-r.html"><a href="interacting-with-r.html#exercise-diversity-of-deep-sea-nematodes"><i class="fa fa-check"></i><b>4.9</b> Exercise: diversity of deep-sea nematodes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>5</b> Graphics</a><ul>
<li class="chapter" data-level="5.1" data-path="graphics.html"><a href="graphics.html#the-basics-of-r-graphics"><i class="fa fa-check"></i><b>5.1</b> The basics of R graphics</a></li>
<li class="chapter" data-level="5.2" data-path="graphics.html"><a href="graphics.html#x-y-plots"><i class="fa fa-check"></i><b>5.2</b> X-Y plots</a></li>
<li class="chapter" data-level="5.3" data-path="graphics.html"><a href="graphics.html#histograms"><i class="fa fa-check"></i><b>5.3</b> Histograms</a></li>
<li class="chapter" data-level="5.4" data-path="graphics.html"><a href="graphics.html#boxplots"><i class="fa fa-check"></i><b>5.4</b> Boxplots</a></li>
<li class="chapter" data-level="5.5" data-path="graphics.html"><a href="graphics.html#images-and-contour-plots"><i class="fa fa-check"></i><b>5.5</b> Images and contour plots</a></li>
<li class="chapter" data-level="5.6" data-path="graphics.html"><a href="graphics.html#plotting-a-mathematical-function"><i class="fa fa-check"></i><b>5.6</b> Plotting a mathematical function</a></li>
<li class="chapter" data-level="5.7" data-path="graphics.html"><a href="graphics.html#multiple-figures-in-one-graphical-device"><i class="fa fa-check"></i><b>5.7</b> Multiple figures in one graphical device</a></li>
<li class="chapter" data-level="5.8" data-path="graphics.html"><a href="graphics.html#saving-graphs"><i class="fa fa-check"></i><b>5.8</b> Saving graphs</a></li>
<li class="chapter" data-level="5.9" data-path="graphics.html"><a href="graphics.html#graphical-systems"><i class="fa fa-check"></i><b>5.9</b> Different graphical systems and packages</a></li>
<li class="chapter" data-level="5.10" data-path="graphics.html"><a href="graphics.html#exercises-1"><i class="fa fa-check"></i><b>5.10</b> Exercises</a><ul>
<li class="chapter" data-level="" data-path="graphics.html"><a href="graphics.html#simple-curves"><i class="fa fa-check"></i>Simple curves</a></li>
<li class="chapter" data-level="" data-path="graphics.html"><a href="graphics.html#human-population-growth"><i class="fa fa-check"></i>Human population growth</a></li>
<li class="chapter" data-level="" data-path="graphics.html"><a href="graphics.html#toxic-ammonia"><i class="fa fa-check"></i>Toxic ammonia</a></li>
<li class="chapter" data-level="" data-path="graphics.html"><a href="graphics.html#the-iris-data-set"><i class="fa fa-check"></i>The iris data set</a></li>
<li><a href="graphics.html#automatic-coercion-by-plot">Automatic coercion by <code>plot()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="file-io.html"><a href="file-io.html"><i class="fa fa-check"></i><b>6</b> File input and output</a><ul>
<li class="chapter" data-level="6.1" data-path="file-io.html"><a href="file-io.html#defining-the-path-to-a-file-or-directory"><i class="fa fa-check"></i><b>6.1</b> Defining the path to a file or directory</a></li>
<li class="chapter" data-level="6.2" data-path="file-io.html"><a href="file-io.html#the-working-directory"><i class="fa fa-check"></i><b>6.2</b> The “working directory”</a></li>
<li class="chapter" data-level="6.3" data-path="file-io.html"><a href="file-io.html#using-the-read.table-and-write.table-functions"><i class="fa fa-check"></i><b>6.3</b> Using the <code>read.table</code> and <code>write.table</code> functions</a></li>
<li class="chapter" data-level="6.4" data-path="file-io.html"><a href="file-io.html#reading-data-from-a-webserver"><i class="fa fa-check"></i><b>6.4</b> Reading data from a webserver</a></li>
<li class="chapter" data-level="6.5" data-path="file-io.html"><a href="file-io.html#reading-data-from-compressed-files-and-archives"><i class="fa fa-check"></i><b>6.5</b> Reading data from compressed files and archives</a></li>
<li class="chapter" data-level="6.6" data-path="file-io.html"><a href="file-io.html#inputoutput-with-excel-files-and-database-management-systems"><i class="fa fa-check"></i><b>6.6</b> Input/output with Excel files and database management systems</a></li>
<li class="chapter" data-level="6.7" data-path="file-io.html"><a href="file-io.html#exercises-2"><i class="fa fa-check"></i><b>6.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Programming-with-R.html"><a href="Programming-with-R.html"><i class="fa fa-check"></i><b>7</b> Programming with R</a><ul>
<li class="chapter" data-level="7.1" data-path="Programming-with-R.html"><a href="Programming-with-R.html#defining-a-function"><i class="fa fa-check"></i><b>7.1</b> Defining a function</a></li>
<li class="chapter" data-level="7.2" data-path="Programming-with-R.html"><a href="Programming-with-R.html#program-flow-control"><i class="fa fa-check"></i><b>7.2</b> Program flow control</a></li>
<li class="chapter" data-level="7.3" data-path="Programming-with-R.html"><a href="Programming-with-R.html#literature"><i class="fa fa-check"></i><b>7.3</b> Literature</a></li>
<li class="chapter" data-level="7.4" data-path="Programming-with-R.html"><a href="Programming-with-R.html#exercises-3"><i class="fa fa-check"></i><b>7.4</b> Exercises</a><ul>
<li class="chapter" data-level="7.4.1" data-path="Programming-with-R.html"><a href="Programming-with-R.html#programming-loops"><i class="fa fa-check"></i><b>7.4.1</b> Loops</a></li>
<li class="chapter" data-level="" data-path="Programming-with-R.html"><a href="Programming-with-R.html#diversity-of-deep-sea-nematodes"><i class="fa fa-check"></i>Diversity of deep-sea nematodes</a></li>
<li class="chapter" data-level="" data-path="Programming-with-R.html"><a href="Programming-with-R.html#diversity-indices-a-function-optional"><i class="fa fa-check"></i>Diversity indices – a function (optional)</a></li>
<li class="chapter" data-level="" data-path="Programming-with-R.html"><a href="Programming-with-R.html#rarefaction-diversity-optional"><i class="fa fa-check"></i>Rarefaction diversity (optional)</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Programming-with-R.html"><a href="Programming-with-R.html#add-prog-ex"><i class="fa fa-check"></i><b>7.5</b> Additional programming exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="vectorization.html"><a href="vectorization.html"><i class="fa fa-check"></i><b>8</b> Vectorization</a><ul>
<li class="chapter" data-level="8.1" data-path="vectorization.html"><a href="vectorization.html#the-function-apply"><i class="fa fa-check"></i><b>8.1</b> The function <code>apply()</code></a></li>
<li class="chapter" data-level="8.2" data-path="vectorization.html"><a href="vectorization.html#the-function-tapply"><i class="fa fa-check"></i><b>8.2</b> The function <code id="the-function-tapply">tapply()</code></a></li>
<li class="chapter" data-level="8.3" data-path="vectorization.html"><a href="vectorization.html#the-functions-lapply-and-sapply"><i class="fa fa-check"></i><b>8.3</b> The functions <code>lapply()</code> and <code>sapply()</code></a></li>
<li class="chapter" data-level="8.4" data-path="vectorization.html"><a href="vectorization.html#exercises-4"><i class="fa fa-check"></i><b>8.4</b> Exercises</a><ul>
<li class="chapter" data-level="8.4.1" data-path="vectorization.html"><a href="vectorization.html#permutation-function"><i class="fa fa-check"></i><b>8.4.1</b> A permutation function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reshaping.html"><a href="reshaping.html"><i class="fa fa-check"></i><b>9</b> Reshaping and manipulating complex data</a><ul>
<li class="chapter" data-level="9.1" data-path="reshaping.html"><a href="reshaping.html#the-tidyr-package"><i class="fa fa-check"></i><b>9.1</b> The <code>tidyr</code> package</a></li>
<li class="chapter" data-level="9.2" data-path="reshaping.html"><a href="reshaping.html#the-dplyr-package"><i class="fa fa-check"></i><b>9.2</b> The <code>dplyr</code> package</a></li>
<li class="chapter" data-level="9.3" data-path="reshaping.html"><a href="reshaping.html#exercises-5"><i class="fa fa-check"></i><b>9.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="formulasyntax.html"><a href="formulasyntax.html"><i class="fa fa-check"></i><b>10</b> Using formula syntax</a><ul>
<li class="chapter" data-level="10.1" data-path="formulasyntax.html"><a href="formulasyntax.html#using-formula-syntax-in-plotting"><i class="fa fa-check"></i><b>10.1</b> Using formula syntax in plotting</a></li>
<li class="chapter" data-level="10.2" data-path="formulasyntax.html"><a href="formulasyntax.html#using-formula-syntax-in-model-definition"><i class="fa fa-check"></i><b>10.2</b> Using formula syntax in model definition</a><ul>
<li class="chapter" data-level="10.2.1" data-path="formulasyntax.html"><a href="formulasyntax.html#data-with-a-continuous-explanatory-variable"><i class="fa fa-check"></i><b>10.2.1</b> Data with a continuous explanatory variable</a></li>
<li class="chapter" data-level="10.2.2" data-path="formulasyntax.html"><a href="formulasyntax.html#data-with-two-discrete-explanatory-variables-factors"><i class="fa fa-check"></i><b>10.2.2</b> Data with two discrete explanatory variables (factors)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Applications</b></span></li>
<li class="chapter" data-level="11" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>11</b> The carnival of distributions</a><ul>
<li class="chapter" data-level="11.1" data-path="distributions.html"><a href="distributions.html#distribution-functions"><i class="fa fa-check"></i><b>11.1</b> Distribution functions</a></li>
<li class="chapter" data-level="11.2" data-path="distributions.html"><a href="distributions.html#distribution-functions-in-r"><i class="fa fa-check"></i><b>11.2</b> Distribution functions in R</a></li>
<li class="chapter" data-level="11.3" data-path="distributions.html"><a href="distributions.html#the-exponential-and-poisson-distributions"><i class="fa fa-check"></i><b>11.3</b> The exponential and Poisson distributions</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-6"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="distributions.html"><a href="distributions.html#the-bernoulli-and-binomial-distributions"><i class="fa fa-check"></i><b>11.4</b> The Bernoulli and binomial distributions</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercises-7"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="distributions.html"><a href="distributions.html#the-normal-and-standard-normal-distribution"><i class="fa fa-check"></i><b>11.5</b> The normal and standard normal distribution</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercise"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="distributions.html"><a href="distributions.html#students-t-distribution"><i class="fa fa-check"></i><b>11.6</b> Student’s t-distribution</a><ul>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercise-1"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="distributions.html"><a href="distributions.html#the-chi-squared-distribution"><i class="fa fa-check"></i><b>11.7</b> The chi-squared distribution</a><ul>
<li class="chapter" data-level="11.7.1" data-path="distributions.html"><a href="distributions.html#application-in-pearsons-chi-square-goodness-of-fit-test"><i class="fa fa-check"></i><b>11.7.1</b> Application in Pearson’s chi-square goodness of fit test</a></li>
<li class="chapter" data-level="" data-path="distributions.html"><a href="distributions.html#exercise-2"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="distributions.html"><a href="distributions.html#the-f-distribution"><i class="fa fa-check"></i><b>11.8</b> The F-distribution</a><ul>
<li class="chapter" data-level="11.8.1" data-path="distributions.html"><a href="distributions.html#analysis-of-variance"><i class="fa fa-check"></i><b>11.8.1</b> Analysis of variance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="linearmodels.html"><a href="linearmodels.html"><i class="fa fa-check"></i><b>12</b> Linear models and ANOVA</a><ul>
<li class="chapter" data-level="12.1" data-path="linearmodels.html"><a href="linearmodels.html#modeling-with-factor-type-predictor-variables"><i class="fa fa-check"></i><b>12.1</b> Modeling with factor-type predictor variables</a><ul>
<li class="chapter" data-level="12.1.1" data-path="linearmodels.html"><a href="linearmodels.html#alternative-dummy-variable-coding-schemes"><i class="fa fa-check"></i><b>12.1.1</b> Alternative dummy variable coding schemes</a></li>
<li class="chapter" data-level="" data-path="linearmodels.html"><a href="linearmodels.html#exercises-8"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="linearmodels.html"><a href="linearmodels.html#two-way-anovafactorial-anova"><i class="fa fa-check"></i><b>12.2</b> Two-way ANOVA/factorial ANOVA</a><ul>
<li class="chapter" data-level="12.2.1" data-path="linearmodels.html"><a href="linearmodels.html#unbalanced-data"><i class="fa fa-check"></i><b>12.2.1</b> Unbalanced data</a></li>
<li class="chapter" data-level="" data-path="linearmodels.html"><a href="linearmodels.html#exercise-5"><i class="fa fa-check"></i>Exercise</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="linearmodels.html"><a href="linearmodels.html#combinations-of-numerical-and-discrete-predictors"><i class="fa fa-check"></i><b>12.3</b> Combinations of numerical and discrete predictors</a><ul>
<li class="chapter" data-level="" data-path="linearmodels.html"><a href="linearmodels.html#exercises-9"><i class="fa fa-check"></i>Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="linearmodels.html"><a href="linearmodels.html#the-connection-between-linear-models-and-anova"><i class="fa fa-check"></i><b>12.4</b> The connection between linear models and ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="hubble.html"><a href="hubble.html"><i class="fa fa-check"></i><b>13</b> The age of the universe</a><ul>
<li class="chapter" data-level="13.1" data-path="hubble.html"><a href="hubble.html#exercises-10"><i class="fa fa-check"></i><b>13.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="datafabrication.html"><a href="datafabrication.html"><i class="fa fa-check"></i><b>14</b> A case of data fabrication</a><ul>
<li class="chapter" data-level="14.1" data-path="datafabrication.html"><a href="datafabrication.html#exercises-11"><i class="fa fa-check"></i><b>14.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="amt-carrier.html"><a href="amt-carrier.html"><i class="fa fa-check"></i><b>15</b> A critical evaluation of ammonium transporter kinetics</a><ul>
<li class="chapter" data-level="15.1" data-path="amt-carrier.html"><a href="amt-carrier.html#exercises-12"><i class="fa fa-check"></i><b>15.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="bias-metabolomics.html"><a href="bias-metabolomics.html"><i class="fa fa-check"></i><b>16</b> Bias in metabolomics data</a><ul>
<li class="chapter" data-level="16.1" data-path="bias-metabolomics.html"><a href="bias-metabolomics.html#exercises-13"><i class="fa fa-check"></i><b>16.1</b> Exercises</a><ul>
<li class="chapter" data-level="16.1.1" data-path="bias-metabolomics.html"><a href="bias-metabolomics.html#an-alternative-solution-generalized-additive-modeling-optional"><i class="fa fa-check"></i><b>16.1.1</b> An alternative solution: Generalized additive modeling (optional)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="nerve-fiber.html"><a href="nerve-fiber.html"><i class="fa fa-check"></i><b>17</b> Correlation between fiber density and episodic memory?</a><ul>
<li class="chapter" data-level="17.1" data-path="nerve-fiber.html"><a href="nerve-fiber.html#exercises-14"><i class="fa fa-check"></i><b>17.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="classifiers.html"><a href="classifiers.html"><i class="fa fa-check"></i><b>18</b> Logistic regression</a><ul>
<li class="chapter" data-level="18.1" data-path="classifiers.html"><a href="classifiers.html#classifiers"><i class="fa fa-check"></i><b>18.1</b> Classifiers</a></li>
<li class="chapter" data-level="18.2" data-path="classifiers.html"><a href="classifiers.html#logistic-regression"><i class="fa fa-check"></i><b>18.2</b> Logistic regression</a><ul>
<li class="chapter" data-level="18.2.1" data-path="classifiers.html"><a href="classifiers.html#logistic-regression-a-case-of-generalized-linear-modeling"><i class="fa fa-check"></i><b>18.2.1</b> Logistic Regression: a case of Generalized Linear Modeling</a></li>
<li class="chapter" data-level="18.2.2" data-path="classifiers.html"><a href="classifiers.html#logistic-regression-in-r"><i class="fa fa-check"></i><b>18.2.2</b> Logistic regression in R</a></li>
<li class="chapter" data-level="18.2.3" data-path="classifiers.html"><a href="classifiers.html#exercises-15"><i class="fa fa-check"></i><b>18.2.3</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="class-dairy-strains.html"><a href="class-dairy-strains.html"><i class="fa fa-check"></i><b>19</b> Classification of dairy bacteria</a><ul>
<li class="chapter" data-level="19.1" data-path="class-dairy-strains.html"><a href="class-dairy-strains.html#exercises-16"><i class="fa fa-check"></i><b>19.1</b> Exercises</a><ul>
<li class="chapter" data-level="19.1.1" data-path="class-dairy-strains.html"><a href="class-dairy-strains.html#description-of-the-data"><i class="fa fa-check"></i><b>19.1.1</b> Description of the data</a></li>
<li class="chapter" data-level="19.1.2" data-path="class-dairy-strains.html"><a href="class-dairy-strains.html#data-conversion"><i class="fa fa-check"></i><b>19.1.2</b> Data conversion</a></li>
<li class="chapter" data-level="19.1.3" data-path="class-dairy-strains.html"><a href="class-dairy-strains.html#data-analysis"><i class="fa fa-check"></i><b>19.1.3</b> Data analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="naivebayes.html"><a href="naivebayes.html"><i class="fa fa-check"></i><b>20</b> Naïve Bayes classifiers</a><ul>
<li class="chapter" data-level="20.1" data-path="naivebayes.html"><a href="naivebayes.html#the-naive-bayes-classifier"><i class="fa fa-check"></i><b>20.1</b> The Naive Bayes classifier</a></li>
<li class="chapter" data-level="20.2" data-path="naivebayes.html"><a href="naivebayes.html#a-crime-scene"><i class="fa fa-check"></i><b>20.2</b> A crime scene</a></li>
<li class="chapter" data-level="20.3" data-path="naivebayes.html"><a href="naivebayes.html#reconstructing-bayes-lawtheorem"><i class="fa fa-check"></i><b>20.3</b> Reconstructing Bayes law/theorem</a></li>
<li class="chapter" data-level="20.4" data-path="naivebayes.html"><a href="naivebayes.html#deciding-on-the-class"><i class="fa fa-check"></i><b>20.4</b> Deciding on the class</a></li>
<li class="chapter" data-level="20.5" data-path="naivebayes.html"><a href="naivebayes.html#continuous-predicting-variables"><i class="fa fa-check"></i><b>20.5</b> Continuous predicting variables</a></li>
<li class="chapter" data-level="20.6" data-path="naivebayes.html"><a href="naivebayes.html#combining-information-from-different-predictor-variables"><i class="fa fa-check"></i><b>20.6</b> Combining information from different predictor variables</a></li>
<li class="chapter" data-level="20.7" data-path="naivebayes.html"><a href="naivebayes.html#exercises-17"><i class="fa fa-check"></i><b>20.7</b> Exercises</a><ul>
<li class="chapter" data-level="20.7.1" data-path="naivebayes.html"><a href="naivebayes.html#predicting-iris-species"><i class="fa fa-check"></i><b>20.7.1</b> Predicting iris species</a></li>
<li class="chapter" data-level="20.7.2" data-path="naivebayes.html"><a href="naivebayes.html#predicting-income"><i class="fa fa-check"></i><b>20.7.2</b> Predicting income</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="resampling-techniques.html"><a href="resampling-techniques.html"><i class="fa fa-check"></i><b>21</b> Resampling techniques</a><ul>
<li class="chapter" data-level="21.1" data-path="resampling-techniques.html"><a href="resampling-techniques.html#bootstrapping"><i class="fa fa-check"></i><b>21.1</b> Bootstrapping</a></li>
<li class="chapter" data-level="21.2" data-path="resampling-techniques.html"><a href="resampling-techniques.html#exercises-18"><i class="fa fa-check"></i><b>21.2</b> Exercises</a><ul>
<li class="chapter" data-level="21.2.1" data-path="resampling-techniques.html"><a href="resampling-techniques.html#medical-patches"><i class="fa fa-check"></i><b>21.2.1</b> Medical patches</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="resampling-techniques.html"><a href="resampling-techniques.html#permutation-test"><i class="fa fa-check"></i><b>21.3</b> Permutation test</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="numerical-differentiation.html"><a href="numerical-differentiation.html"><i class="fa fa-check"></i><b>22</b> Numerical differentiation and smoothing</a><ul>
<li class="chapter" data-level="22.1" data-path="numerical-differentiation.html"><a href="numerical-differentiation.html#exercises-19"><i class="fa fa-check"></i><b>22.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="randomnumbers.html"><a href="randomnumbers.html"><i class="fa fa-check"></i><b>23</b> Random numbers</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="elementary-datatypes" class="section level1">
<h1><span class="header-section-number">CHAPTER 3</span> Elementary data types and operations</h1>
<p>Every higher order programming language (like R, but also C, Perl, Python, <em>etc.</em>) has a classification system for data, a so-called “typing system”. The reason to classify data is that it simplifies the programming of functions that work with those different types of data. Many functions can be applied only to certain types of data. For example, you can calculate the mean of a set of numbers, but not of a set of characters. So, in R the function <code>mean()</code> can only be applied to a set of numbers and not to characters. If you do apply this function to a set of characters R returns a warning message, and the special value called <code>NA</code>, for Not Available (see below).</p>
<p>The core of the typing system of R consists of the so-called <strong>atomic data types</strong>. You can not actually create an object of an atomic data type in R, but you can create vectors filled with atomic data, since a vector is the simplest data object in R, as we will see below. The atomic data types are <strong>numeric</strong>, <strong>character</strong>, <strong>logical</strong>, <strong>complex</strong> and <strong>raw</strong>. You will use only the first three of these.</p>
<div id="the-atomic-data-types" class="section level2">
<h2><span class="header-section-number">3.1</span> The atomic data types</h2>
<ul>
<li><strong>Numeric</strong> This atomic type represents anything that you would in daily life call a number. It also comprises two special numeric values, namely <code>Inf</code>, representing extremely large or infinite numbers and <code>NaN</code>, representing “Not a Number”. <code>Inf</code> (or <code>-Inf</code>) is the result of a calculation leading to a number that is so large that it cannot be represented in R.
<div class="handson">
<ul>
<li>
type <code>1/0</code> (or <code>-1/0</code>) at the prompt, and press return. But also <code>2^2000</code> will lead to an <code>Inf</code> value. Although it is not infinite, it cannot be represented in computer memory by R, at least not in the usual way.
</li>
</ul>
<p>
<code>NaN</code> is the result of calculation with an undefined result.
</p>
<ul>
<li>
For example, type <code>0/0</code> at the prompt and press return. Or type <code>2^2000 - 2^4000</code>.
</li>
</ul>
</div>
<p>The advantage of these “values” in R is that they prevent your code from getting stuck in calculations leading to such results. Other programming languages will stop when such undefined results occur unless you make explicit programmatic precautions.</p></li>
<li><p><strong>Character</strong> Character type atomic elements can be any single letter or a string of letters. To indicate that your entry is of character type, you put it between single or double quotes, like <code>'a'</code>, or <code>'123'</code>, or <code>&quot;a&quot;</code> and <code>&quot;123&quot;</code>.</p></li>
<li><strong>Logical</strong> This atomic type can have two values, <code>FALSE</code> and <code>TRUE</code>, and they are the outcome of comparison operators, like <code>&gt;</code>, <code>&lt;</code>, <code>==</code> (smaller than, bigger than, equal to, see the help under the base package for all logical operators, or functions) or logical operators like <code>!</code> (“not”).
<div class="handson">
<ul>
<li>
At the prompt, type <code>1 &gt; 2</code>, and then press the Enter key.
</li>
</ul>
<p>
This asserts that 1 is bigger than 2, and is clearly a false assertion, so the R interpreter returns <code>FALSE</code>, Or type <code>!(1 &gt; 2)</code>.
</p>
<ul>
<li>
Also type <code>TRUE</code> at the prompt and press Enter.
</li>
</ul>
<p>
You get back a vector of length one with the value <code>TRUE</code> as its single entry. Notice that <code>TRUE</code> and <code>FALSE</code> have to be written in capitals; <code>true</code> and <code>false</code> are not known as logical constants in R.
</p>
</div></li>
<li><p><strong>Complex</strong> This atomic type represents the complex numbers. We will not use complex numbers in this course.</p></li>
<li><p><strong>Raw</strong> This type holds binary data, <em>i.e.</em> raw bytes. We will not use it.</p></li>
</ul>
A special value common to all five atomic types is the value <code>NA</code>, which indicates a missing value (Not Available). As you can imagine, <code>NA</code> is a very useful element in the analysis of real-life data, since measurements are very often incomplete. As with <code>Inf</code> and <code>NaN</code>, <code>NA</code> offers a way to not get stuck with missing data when you do calculations on data sets.
<div class="handson">
<ul>
<li>
At the prompt type <code>NA</code> and then press the Enter button.
</li>
<li>
Also try to type <code>N</code>, or <code>A</code> separately.
</li>
</ul>
<p>
You see that in the latter two cases R complains that it does not know objects with those names. So R recognizes specifically the combination <code>NA</code>. You have seen before that it also recognizes <code>pi</code>.
</p>
</div>
</div>
<div id="the-basic-data-object-classes" class="section level2">
<h2><span class="header-section-number">3.2</span> The basic data object classes</h2>
<p>In science data never come alone, and therefore all data in R are minimally represented as a vector, <em>i.e.</em> a tuple of things<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. Atomic elements do not exist as individual objects in R. The <strong>vector</strong> object class in R is actually an abstract type, representing anything that you can think of as a tuple. In R you can not create a vector object directly (see figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a>. Therefore, the vector class is called a “virtual class”, which means that you can only create objects of one of the derived, so-called child classes of the vector class. So, if you enter a single number, character, logical value or complex number in the command line, then you will get an object that has <code>numeric</code>, <code>character</code> or <code>logical</code> class and has length 1. Let’s discuss each of the classes in figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a>, create objects if possible, and look at the properties.</p>
<div class="figure"><span id="fig:classhierarchy"></span>
<img src="images/RClassHierarchy_nw.png" alt="Basic R data class hierarchy. This is probably the __most important figure__ of the introductory chapters. Only objects of classes depicted in shaded boxes can be created, meaning that, although the class __vector__ is defined in R, you cannot actually create objects of this class. It is a virtual class, serving to define common properties in its child classes. The dark shaded classes correspond to vectors of the atomic data types." width="860" />
<p class="caption">
Figure 3.1: Basic R data class hierarchy. This is probably the <strong>most important figure</strong> of the introductory chapters. Only objects of classes depicted in shaded boxes can be created, meaning that, although the class <strong>vector</strong> is defined in R, you cannot actually create objects of this class. It is a virtual class, serving to define common properties in its child classes. The dark shaded classes correspond to vectors of the atomic data types.
</p>
</div>
<ul>
<li><p><strong>vector</strong> A vector object is a tuple of other objects. By “tuple” we mean that each of the sub-objects has a defined and fixed position characterized by a single number, the index-position, in the super-object. The whole range of occupied positions is called the index. Sub-objects can be retrieved from the parent vector object by using a selector operator (explained below). We have already seen a way to construct vectors with several elements, namely by the <code>rep()</code> function. Another important way is to use the function <code>c()</code> (for concatenate or combine). Take a look at the help file for this operator: <code>help(c)</code> or <code>?c</code>. An important consequence of the hierarchy in figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a> is that <strong>all data objects in R, no matter how complex, are derived from the vector class</strong>. This is even true for the data objects not listed in the figure. It implies that all data objects in R have vector-like properties. In practice this means that the methods or functions defined for the vector class can be applied to any data object in R.</p></li>
<li><p><strong>atomic vectors</strong> Atomic vectors are vectors consisting of objects of a single atomic type, basically “character”, “logical”, and “numeric”. The atomic type of a vector is called its “mode”. The mode of a vector can be queried with the <code>mode()</code> function.</p>
<ul>
<li><strong>numeric</strong> Numeric-mode vectors contain numbers, either integer or floating point numbers. Floating point numbers contain digits behind the decimal point, whereas integers don’t.
<div class="handson">
<ul>
<li>
At the prompt type <code>c(1.1,2.1,3)</code> and press Enter. This will create a numeric-mode vector
</li>
<li>
Type <code>1:3</code> and press Enter. What is the function of the <code>:</code> operator? (See <code>help(colon)</code>).
</li>
<li>
Type <code>rep(1:3,3)</code>. What is happening here? Take a look at the help page for <code>rep</code>.
</li>
<li>
The <code>c()</code> operator can also be used to concatenate two or more vectors into one vector. To see this effect type <code>c(c(1,2),c(3,4))</code> and press Enter.
</li>
</ul>
</div></li>
<li><strong>integer</strong> This is a child class of <strong>numeric</strong>, containing only integers. You can create an integer-mode vector by using the commands <code>integer()</code>, or <code>as.integer()</code>. Also a command like <code>1:10</code> generates an <strong>integer</strong> class vector.
<div class="handson">
<p>
Type <code>mode(1:3)</code> and <code>class(1:3)</code> to find out the mode and class of these vectors.
</p>
</div>
<p>Note that although the <em>class</em> of the <strong>numeric</strong> child class <strong>integer</strong> is what its name says, the <em>mode</em> of this child class is “numeric”. The same holds for the child classes <strong>factor</strong> and <strong>ordered</strong>, below.</p></li>
<li><strong>factor</strong> This is a child class of <strong>integer</strong> (and thereby of <strong>numeric</strong> too) that is used for discretely leveled data having a limited number of levels. For example, the variable “gender” has two levels, either “Male” or “Female”, or you could abbreviate them as “M” and “F”. The levels “Male” and “Female” are internally represented as the integers 1 and 2, but displayed with their given names, using a translation table that is an additional attribute of the <strong>factor</strong> object.
<div class="handson">
<ul>
<li>
Create a factor vector by typing <code>factor(c(‘M’,‘F’,‘M’))</code>.
</li>
</ul>
<p>
You can use the <code>levels()</code> function to find out which levels a factor has:
</p>
<ul>
<li>
<code>levels(factor(c(‘M’,‘F’,‘M’)))</code>
</li>
</ul>
<p>
To see that the representation is numeric, translate the factor-type vector back to a numeric vector by the command
</p>
<ul>
<li>
<code>as.numeric(factor(c(‘M’,‘F’,‘M’))</code>.
</li>
</ul>
<p>
The <code>as.numeric()</code> function is a so-called coercion function (to coerce = using force to change something). There are many such functions starting with <code>as.</code>. Above you saw the <code>as.integer()</code> coercion function, which converts vectors to an integer-type vector.
</p>
</div></li>
<li><strong>ordered</strong> This is a child class of <strong>factor</strong> (and thereby of <strong>integer</strong> and <strong>numeric</strong>). Whereas for the “gender” factor in the previous example there is no order relation between the “M” and “F” elements (they have equivalent rank), you can imagine that a factor registering the size of things, and having for example the discrete levels “small”, “medium”, “large”, the order relation between these levels is meaningful. The <strong>ordered</strong> data class registers not only the levels, but also this order relation.
<div class="handson">
<p>
To create an <strong>ordered</strong> factor, type <code>ordered(c(‘large’, ‘medium’, ‘small’, ‘large’), levels=c(‘small’, ‘medium’, ‘large’))</code>, where the position in the “levels” argument defines the order relation between the levels.
</p>
</div></li>
<li><strong>character</strong> A character-mode vector contains character entries consisting of strings of one or more letters.
<div class="handson">
<ul>
<li>
Type <code>c(‘a’,‘b’,‘c’)</code> and press Enter.
</li>
<li>
Type <code>c(‘abc’,1,22)</code> and press Enter. At first, you might think that this should generate an error because we have entered two different atomic types (<code>numeric</code> and <code>character</code>), whereas a vector can have only one type of atomic elements. However, R converts the numeric type of the second and third positions to a character type. This is again an example of coercion, but now automatically performed. You will see that it has created a character vector with three strings, being <code>‘abc’</code>, <code>‘1’</code> and <code>‘22’</code>. Can you see how R indicates that the numeric elements were coerced to character elements?
</li>
<li>
Type <code>rep(c(‘A’,‘B’),c(2,3))</code>. What is happening here?
</li>
<li>
Type <code>rep(c(‘A’,‘B’),each=3)</code>. What happens here?
</li>
</ul>
</div></li>
<li><strong>logical</strong> A logical-mode vector contains only logical entries, i.e. the special values <code>TRUE</code> or <code>FALSE</code> or <code>NA</code>.
<div class="handson">
<ul>
<li>
Type <code>c(TRUE, FALSE, NA)</code>.
</li>
<li>
Type <code>c(1,2,NA)</code> and press Enter. Also try <code>c(1, 2, TRUE)</code>, <code>c(1, 2, FALSE)</code>, and <code>c(‘a’, ‘b’, TRUE)</code>. To what are the logical elements coerced?
</li>
<li>
The logical value <code>NA</code>, which indicates a missing value, has a special behavior in coercion, in that it is not changed to a character type or numeric type where the other logical values (<code>TRUE</code> and <code>FALSE</code>) are coerced.
</li>
</ul>
</div>
<p>Again, if you want to find out which type of atomic elements your vector contains you can use the function <code>mode()</code>. Type, for example <code>mode(c(1,2,3))</code>, and it will give you <strong>numeric</strong> as the answer.</p></li>
</ul></li>
<li><strong>list</strong> A list is a vector of R-objects. <strong>list</strong> objects inherit vector-like behavior from the parent <strong>vector</strong> class. In contrast to atomic vectors, however, lists are very flexible data objects because they can contain non-atomic objects as their entries, and can also contain different types of objects at different positions. So, lists can contain vectors, matrices, data frames and lists and any mixture of these.
<div class="handson">
<ul>
<li>
Type <code>list(1,‘a’)</code>, and press Enter. R prints the list on the screen, each entry indicated by its index position (the double bracketed number, like <code>[[1]]</code> for the first position) and its value, in this case a <strong>numeric</strong> vector of length 1 at position <code>[[1]]</code> and a <strong>character</strong> vector of length 1 at index position <code>[[2]]</code>
</li>
<li>
Type <code>list(‘John’, ‘Doe’, c(‘Carpenter’, ‘Teacher’), 34, ‘M’)</code> and press Enter. This illustrates that lists can be very handy to keep different types of related data together, in this case information about a person. For example, we could agree that index 1 gives the first name, index 2 the last name, index 3 the professions that the person has had, index 4 the age of the person , and index 5 gives the gender of the person. We could even make a small database of persons by putting several different “person”-lists in a list again. Think about this data object for a while, and realize that it consists of a set of five vectors of which the first three have the mode <code>character</code> the fourth the mode <code>numeric</code>, and the last the mode <code>character</code> and they have lengths 1, 1, 2, 1, and 1 respectively
</li>
<li>
Having to remember the index position where a specific piece of information can be found is not very user-friendly. Therefore, R offers the possibility of labeling index positions with names. To illustrate this, type <code>list(firstname=‘John’, lastname=‘Doe’, professions=c(‘Carpenter’, ‘Teacher’), age=34, gender=‘M’)</code>. Press Enter, and you will see that in the screen print of the list, the index numbers have been replaced by the labels, preceded by a dollar sign. We will see later how to retrieve data from lists and other objects using such named index positions.
</li>
</ul>
</div></li>
<li><p><strong>data frame</strong> This is a <em>very important</em> R data object that corresponds to the notion of a table. You can see in figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a> that <strong>data frame</strong> objects inherit from the <strong>list</strong> class. The behavior that it inherits from the list class is that it can contain different types of elements at the index positions. However, there are restrictions relative to the parent class: all elements in a <strong>data frame</strong> must have the same length and they have to be atomic vectors. You can see why this corresponds to a table, because each row in a table represents an instance of a set (a person, for example, as an instance of “human being”), and each column represents some type of data about those instances (age, height, gender, <em>etc</em>.). The columns correspond to the <strong>data frame</strong> entries, and each has to have the same number of rows. Often, tables are made in other programs, for example in Excel, and then imported in R in a <strong>data frame</strong> object for analyses.</p></li>
</ul>
<div class="handson">
<p>
Let’s make a data frame with the <code>data.frame()</code> function (notice the dot): type <code>data.frame(age = c(10, 45, 20, 31), height = c(1.24, 1.78, 1.68, 1.66), gender = factor(c(‘M’, ‘M’, ‘F’, ‘F’)))</code> and press Enter. Take some time to think carefully about the structure of this data frame. It is a vector with three elements. The elements in their turn each contain a vector of length 4, two of which have mode <code>numeric</code>, and one has mode <code>character</code>.
</p>
</div>
<p>As said, a data frame is less flexible than a list, because the lengths of the columns (the list elements) have to be equal and atomic. So, something like different persons having different number of “professions”, as in the <strong>list</strong> above, is not very easy to implement in a data frame. On the other hand, statistical calculations on data frames are often more easily performed.</p>
<ul>
<li><strong>array</strong> An array consists of an <em>atomic vector</em> that contains the array’s elements, together with a dimension property. The number of dimensions in an array are unlimited, but often you will work with two-dimensional arrays which in R have a special name (and data sub-type class, see figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a>), namely <strong>matrix</strong>. The fact that the elements of an array are contained in a vector (let’s call it the “content vector”) implies that all elements in an array or matrix are of the same atomic type, and that the mode of an array equals the mode of its content vector.
<div class="handson">
<ul>
<li>
Find the help page for the <code>array</code> function for creating arrays in R
</li>
<li>
Type <code>array(1:10, dim=c(2,5))</code> and press Enter. What do the first and second integer in the dim argument correspond to?
</li>
<li>
Find the help page for the <code>matrix()</code> function for creating a matrix in R
</li>
<li>
Type <code>matrix(1:10, nrow=2)</code> and press Enter
</li>
<li>
Make a 3-dimensional 2 x 2 x 2 array with the elements <code>1:8</code>
</li>
</ul>
</div></li>
</ul>
</div>
<div id="assigning-names-to-r-objects" class="section level2">
<h2><span class="header-section-number">3.3</span> Assigning names to R-objects</h2>
<p>You have just used R as a calculator. As with a calculator, the data that you have typed above were volatile, meaning that after printing, they are gone. Re-creating data every time you want to do some calculation cannot be the purpose of a high-level programming language. And so, R offers the possibility of storing data in memory. The way to do that is by attaching a name to data. This process is called “assignment”, because you assign a name to a data object. During this assignment, space is made available in memory to store the data. Assignment occurs through the assignment operator <code>&lt;-</code>. Try the following:</p>
<div class="handson">
<ul>
<li>
At the prompt type <code>v</code>, and press Return. R complains about not knowing <code>v</code>.
</li>
<li>
At the prompt type <code>v &lt;- c(1,2,3)</code>. press Return. No complaints!
</li>
<li>
Now type <code>v</code> and press Return.
</li>
</ul>
</div>
<p>This possibility of naming and storing makes handling of the data much more efficient. We will demonstrate this in the next section. By the way, there are two equivalent versions of the assignment operator, namely <code>&lt;-</code> and <code>=</code>. I prefer the <code>&lt;-</code> operator, because due to its asymmetry it shows explicitly which is the name and which is the data. But remember that <code>v &lt;- c(1,2,3)</code> and <code>v = c(1,2,3)</code> are equivalent.</p>
<div id="listing-objects-in-memory" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Listing objects in memory</h3>
If you lose track of all the objects that you have put into the memory of our PC, there are two useful commands that give an overview of those objects. They are the functions <code>ls()</code> and its variant <code>ls.str()</code>.
<div class="handson">
<p>
Type these commands at the prompt now, and don’t forget to type the empty brackets behind them. The <code>ls()</code> command only displays the names of the objects currently in memory, whereas <code>ls.str()</code> is much more informative about the object: it shows class, size, a few values, <em>etc.</em> In case of complex objects like data frames it also shows information about the individual sub-objects.
</p>
</div>
</div>
</div>
<div id="arithmetic-with-vectors-arrays-and-data-frames" class="section level2">
<h2><span class="header-section-number">3.4</span> Arithmetic with vectors, arrays, and data frames</h2>
<p>Perhaps you know vector arithmetic from linear algebra. In R you can execute vector arithmetic too, like inner, outer, and cross products <em>etc.</em>, but this is not the subject of this chapter. This chapter shows the effect of applying simple unary or binary operators like taking the square root (unary) or addition, multiplication <em>etc.</em> (binary) to vectors. These operators are applied element-by-element on the vector or vectors. Such operations may not be formally defined in linear algebra, and are a typical part of R (This is part of an important subject called “vectorization” which is covered in chapter <a href="vectorization.html#vectorization">8</a>).</p>
<div class="handson">
<ul>
<li>
make the vector <code>a</code> by typing <code>a &lt;- c(1,2,3)</code>. Then type <code>a/2</code>, and study the result
</li>
</ul>
<p>
Every element in <code>a</code> was divided by 2! The same operation with the same effect, dividing by a scalar, exists in linear algebra. However, the element by element procedure will also be applied for any other operator, like the unary function <code>sqrt()</code>. Type <code>sqrt(a)</code> and look at the result. This operation does not formally exist in linear algebra. You can also apply binary operators (like <code>*</code>, <code>/</code>, <em>etc.</em>) to pairs of vectors having lengths greater than 1. The result of these operations <em>do not</em> correspond to their equivalents (if they exist) in linear algebra. For example, you can multiply two vectors of the same length element by element.
</p>
<ul>
<li>
Make a new vector <code>b &lt;- c(4,5,6)</code> and then type <code>a*b</code>
</li>
</ul>
<p>
You will see that the result is a vector of the same length which is the result of multiplying <code>a</code> and <code>b</code> element by element, which does not correspond to the inner or outer product from linear algebra. Also make a new vector <code>c &lt;- c(4,5)</code> and type <code>a * c</code>. This yields a warning message: “longer object length is not a multiple of shorter object length”. However, a result is produced. The message actually suggests that if the length of the longer object (<code>a</code>) were a multiple of that of the shorter, the operation would not have issued a warning.
</p>
<ul>
<li>
To see this, make a vector <code>d &lt;- c(1,2,3,4)</code> and type <code>d * c</code>
</li>
</ul>
<p>
The result is the element by element multiplication of <code>d</code> by the re-cycled vector <code>c</code>. In the former case, <code>a * c</code>, the shorter vector <code>c</code> is also recycled, but only partially in the last cycle. Check this assertion! Notice that recycling will never give a warning when one of the vectors has length 1 (is a 1-tuple or singleton). The single scalar element is recycled for every element of the longer vector. These are very handy properties of R vectors, as you will notice in the examples following below.
</p>
</div>
<p>Now you will also understand the advantage of having the <code>Inf</code> and <code>NaN</code> numeric values, and the <code>NA</code> value: type <code>a &lt;- c(1,2,3)</code> and <code>b &lt;- c(2,0,3)</code> at the prompt. Then type <code>a/b</code>. Division of the elements at the second index position (2/0) leads to an infinite value, but the other two divisions are perfectly valid. In R such a calculation will not lead to an error message and halting of the program, as it would in most other programming languages. It will just perform the operations on the elements for which it is valid, and fills in the appropriate special result (<code>Inf</code>, <code>NaN</code>, <code>NA</code>) at the positions for which it led to invalid answers.</p>
<p>The following example shows that the individual columns in data frames behave as vectors.</p>
<div class="handson">
<ul>
<li>Type <code>d &lt;- data.frame(inhabitants=c(1000,200000,500), area=c(200,5000,NA))</code>. which lists the number of inhabitants and area (in square kilometers) of three imaginary countries. We do not know the area of the third country because it wasn’t provided.</li>
<li>At the prompt press <code>d</code> to see whether you have typed in the correct data.</li>
<li>Now we want to calculate the population density in each of these countries. First, let’s retrieve the inhabitants column from the data frame. To do that, type <code>d$inhabitants</code> and press return. The dollar operator <code>$</code> in this case selects the element (column) with the name “inhabitants” from the data frame, and returns it as a vector.</li>
<li>Now you may find out for yourself (and it’s obvious) how to calculate the population density of each of these countries. The answer looks like <code>[1] 5 40 NA</code>.</li>
<li>Can you make an additional column in <code>d</code> called “density” that contains the calculated result? <em>Hint: use the <code>$</code> selector operator to create the new column and to assign the density result to it</em></li>
</ul>
</div>
<p>Arrays (and 2-dimensional arrays, which are called matrices in R) are generalizations of vectors. As stated above, an array in R is defined as a vector with a dimension attribute (2 x 2, 2 x 2 x 4, <em>etc.</em>). If you apply arithmetic operators to an array then you actually apply them to the vector part of the array.</p>
<div class="handson">
<p>
As an illustration, type <code>a &lt;- array(1:8, dim=c(2,4))</code> and press return. As you see, the values have been filled in column-wise, filling the first column from top to bottom, then the second, <em>etc.</em> Now multiply a with <code>b</code> (equal to <code>c(4,5)</code>). This will not issue a warning because the length of the vector part of a equals 8, a multiple of 2, and b can be recycled completely. This results in the upper row of <code>a</code> being multiplied by 4 and the lower row by 5, since recycling of <code>b</code> takes place in the same order as the array was filled. Difficult? Just work it out by hand on a piece of paper. You can also multiply, divide, take roots <em>etc.</em> with arrays in this way, since the operators are applied to the vector parts, regardless of the dimension properties.
</p>
</div>
<p>By the way, matrix multiplication (from linear algebra) is also possible in R. Look up what the the matrix multiplication operator looks like in R (Hint: search with the term “crossproduct”. Note that there are two ways to calculate it).</p>
</div>
<div id="extracting-and-replacing-parts-of-data-objects" class="section level2">
<h2><span class="header-section-number">3.5</span> Extracting and replacing parts of data objects</h2>
<p>Very often, you want to select a part of an object to do calculations with. You already saw how to select a whole column from a data frame using the dollar (<code>$</code>) operator. We know that every data object inherits from the vector class (see figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a>). The basic way to extract a <em>single</em> sub-object from an element of <em>any</em> data object, is to use the double bracketed index selector operator <code>[[...]]</code>. This selector operator accepts a <em>single</em> index position (a positive integer) or a <em>single</em> name of an index position as an argument. We will illustrate the selection of a single sub-object now. More help on this subject can be found in the R help pages: type <code>help(Extract)</code>.</p>
<div id="extracting-a-single-sub-object-with-the-double-bracket-index-selector" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Extracting a single sub-object with the double bracket index selector <code>[[</code></h3>
<div class="handson">
<ul>
<li>
Make a vector <code>a &lt;- c(1,2,3,4)</code>. Select the second element using <code>a[[2]]</code>. To find out the class of this extracted part, type <code>class(a[[2]])</code>. Does it differ from the class of the original object?
</li>
<li>
Make a list <code>v &lt;- list(firstname=‘John’, lastname=‘Doe’, professions=c(‘Carpenter’, ‘Teacher’), age=34, gender=‘M’)</code>. Select its third sub-object using the command <code>v[[3]]</code>. What is the class of <code>v</code> and what is the class of <code>v[[3]]</code>? Also select the third sub-object by name, using the command <code>v[[‘professions’]]</code>. Why do we use the quotes and not plainly <code>v[[professions]]</code> (study the error message when you type the last command)?
</li>
</ul>
</div>
</div>
<div id="for-data-frames-and-lists-and-selectors-behave-similarly" class="section level3">
<h3><span class="header-section-number">3.5.2</span> For data frames and lists <code>$</code> and <code>[[</code> selectors behave similarly</h3>
<p>Above, we have seen the use of the dollar selector to select single <em>named</em> columns from a <strong>data frame</strong>. In data frames the columns correspond to its sub-elements. Therefore, the use of the dollar selector for data frames is identical to the use of the double bracket selector when using a named index. To illustrate this:</p>
<div class="handson">
<ul>
<li>Type <code>d &lt;- data.frame(inhabitants=c(1000,200000,500), area=c(200,5000,NA))</code>. Then type <code>d$area</code> and <code>d[['area']]</code> and study the type of objects they return.</li>
<li>Also select the second column of <code>d</code> using the <code>[[</code> selector and a numerical index</li>
</ul>
<p>A difference between the <code>$</code> and <code>[[</code> selectors is that, in case of the <code>[[</code> selector you can enter a variable holding the name, whereas this does not work for the dollar selector:</p>
<ul>
<li>Type <code>mycolumn &lt;- 'inhabitants'</code>. Now try to select the inhabitants column from d using the <code>$</code> and <code>[[</code> selectors on the variable <code>mycolumn</code> (Why would using quotes around the variable name yield the wrong result here?).</li>
</ul>
<p>This behavior of the <code>[[</code> selector can be very handy if the column to be selected from a data frame is the result of some calculation.</p>
</div>
<p>The behavior with respect to <code>$</code> and <code>[[</code> selectors of the <strong>data frame</strong> class is actually inherited from the <strong>list</strong> class, its parent class (see figure <a href="elementary-datatypes.html#fig:classhierarchy">3.1</a>). Therefore, the things said here about the <strong>data frame</strong> class also hold for the <strong>list</strong> class.</p>
</div>
<div id="complement-syntax" class="section level3">
<h3><span class="header-section-number">3.5.3</span> Selecting portions with the single bracket selector <code>[</code></h3>
<p>Another way to select <em>a portion</em> of an object, and not necessarily sub-objects, is by using the single bracket selector <code>[...]</code>.</p>
<div id="selection-using-numeric-index-vectors" class="section level4 unnumbered">
<h4>Selection using numeric index vectors</h4>
<p>You can fill in single integers or vectors of integers between the single brackets to select portions of an object:</p>
<div class="handson">
<ul>
<li>
Make a vector <code>a &lt;- c(‘a’,‘b’,‘c’,‘d’)</code>. Select the second element using <code>a[[2]]</code>.
</li>
<li>
Select the second until fourth elements using <code>a[2:4]</code> (remember <code>2:4</code> is identical to <code>c(2,3,4)</code>).
</li>
<li>
Try to do the same using the double bracket selector: <code>a[[2:4]]</code>. What is the error message?
</li>
<li>
Select the fourth and first element, in that order, using <code>a[c(4,1)]</code>.
</li>
</ul>
<p>
What are the classes of the portions that you have selected from <code>a</code>? The selection vectors <code>c(2)</code>, <code>2:4</code>, <code>c(1,4)</code> <em>etc.</em> are called “numeric index vector” if they are used to select elements from another vector. Apart from this name, there is nothing special about them!
</p>
<ul>
<li>
Make a list <code>v &lt;- list(firstname=‘John’, lastname=‘Doe’, professions=c(‘Carpenter’, ‘Teacher’), age=34, gender=‘M’)</code> Select the portion consisting of its third element using the command <code>v[3]</code>. What is the class of <code>v</code> and what is the class of <code>v[3]</code>? Do you notice the difference with the double bracket selector <code>[[</code>?
</li>
<li>
Select the portion of <code>v</code> consisting of its third and second elements using the single bracket operator. What is the class of this selection?
</li>
<li>
Try to perform nested selection (remember the error message from <code>a[[2:4]]</code>?) using the double bracketed command <code>v[[c(3,2)]]</code>. Do you understand what is happening here? Remember that you can only select <em>single</em> sub-objects with the double bracket selector. What is the class of this selected object?
</li>
<li>
Also try <code>v[c(3,2)]</code>. What is the difference with the previous command? What is the class of the selected portion?
</li>
</ul>
</div>
</div>
<div id="selection-using-logical-index-vectors" class="section level4 unnumbered">
<h4>Selection using logical index vectors</h4>
<p>You can also use logical vectors (vectors containing <code>TRUE</code> and <code>FALSE</code> elements) to select elements from another vector. These vectors are then called logical index vectors.</p>
<div class="handson">
<ul>
<li>
Make a vector <code>a &lt;- 1:4</code> and select the first and fourth element using <code>a[c(TRUE, FALSE, FALSE, TRUE)]</code>.
</li>
<li>
Logical vectors really come in handy if they are the result of a calculation. Type <code>a&gt;2</code>, and look at the result. Now select all elements from a that are larger than 2 using <code>a[a&gt;2]</code>.
</li>
<li>
Select all elements from <code>a</code> that are larger than 1 and smaller than 4 using a calculated logical index vector (use the logical <em>and</em> operator: <code>&amp;</code>).
</li>
<li>
Select all elements from <code>a</code> that are smaller than 2 or larger than 3 using a calculated logical index vector (use the logical <em>or</em> operator: <code>|</code>).
</li>
</ul>
</div>
</div>
<div id="selection-using-the-complement-of-an-index-vector" class="section level4 unnumbered">
<h4>Selection using the complement of an index vector</h4>
<p>You can use index selection to select the complement of a set of numerical indices using complement syntax:</p>
<div class="handson">
<p>
Select the second and fourth element from a by typing <code>a[-c(1,3)]</code>
</p>
</div>
<p>This is of course especially handy if you have a very long vector from which you want to extract all but a few elements.</p>
</div>
<div id="selection-using-index-names" class="section level4 unnumbered">
<h4>Selection using index names</h4>
<p>The single bracket selector also works with named indices.</p>
<div class="handson">
<ul>
<li>
Select “firstname” and “lastname” from the list object <code>v</code> defined above using the <code>[</code> selector and a character vector with the names of these sub-objects. What is the class of the selected portion. Can you think of a way to create a character vector containing first and last names using a bracket selector?
</li>
<li>
Create a data frame <code>d &lt;- data.frame(age = c(10, 45, 20), height = c(1.24, 1.78, 1.68), sex = factor(c(‘M’, ‘M’, ‘F’)))</code>. Now select the “age” and “sex” columns using the <code>[</code> selector and named selection. What type of object is the output of this selection?
</li>
</ul>
</div>
</div>
</div>
<div id="changing-parts-of-a-vector" class="section level3">
<h3><span class="header-section-number">3.5.4</span> Changing parts of a vector</h3>
<p>Index selection also works if you want to change parts of an object, <em>i.e.</em> assign different values to parts of an object. For this, you use a combination of the selection and assignment operators.</p>
<div class="handson">
<p>
Set the third and fourth element of <code>a</code> to be 5 by typing <code>a[3:4] &lt;- 5</code>. Look at the resulting <code>a</code>. This syntax actually invokes a separate so-called replacement function named <code>[&lt;-</code>, see <code>help(Extract)</code>.
</p>
</div>
</div>
<div id="effect-of-the-selector-operators-on-data-frames" class="section level3">
<h3><span class="header-section-number">3.5.5</span> Effect of the selector operators on data frames</h3>
<div class="handson">
<ul>
<li>
Make a data frame <code>d &lt;- data.frame(age=c(20,30,40), weight=c(55,81,76))</code>.
</li>
<li>
Select the weight column with the <code>$</code> operator.
</li>
<li>
Select the weight column using the <code>[</code> operator. Try both using the numeric index of that column, or the name of its index position.
</li>
<li>
Select the weight column using the <code>[[</code> operator, either with the numeric index of that column, or with its name string. What is the difference with the <code>[</code> operator? (tip: use the <code>class()</code> function to find out what type of object is coming out of these operators)
</li>
</ul>
</div>
</div>
<div id="effect-of-the-selector-operators-on-arrays" class="section level3">
<h3><span class="header-section-number">3.5.6</span> Effect of the selector operators on arrays</h3>
On arrays the index selection operators work a little different:
<div class="handson">
<ul>
<li>
Make an array <code>a &lt;- array(1:9, dim=c(3,3))</code>
</li>
<li>
Remember, an array in R is represented by a vector with a dimension attribute. So, you can select single elements or ranges of elements from an array using the <code>[]</code> operator exactly as from a vector, completely ignoring its dimension property. Try <code>a[1]</code> and <code>a[2:4]</code>, <code>a[c(1,3)]</code>.
</li>
<li>
An ordered, comma-separated list of vectors (each with 1 or more elements) within <code>[]</code> is interpreted as a selection from each of the dimensions of the array to which it is applied. So you can select the element in the second row and third column by the command <code>a[2,3]</code>. You can select the elements in the first and third column of the third row by typing <code>a[3,c(1,3)]</code>. And you can select the entire third row by the command <code>a[3,]</code>. Of course, the number of vectors in the list between <code>[]</code> brackets should exactly equal the number of dimensions in a.
</li>
<li>
By the way, you can use the same “dimension” trick to a data frame. Select the third row of <code>d</code> from the previous paragraph by the command <code>d[3,]</code>. What is the class of the selected part?
</li>
</ul>
</div>
</div>
</div>
<div id="removingelements" class="section level2">
<h2><span class="header-section-number">3.6</span> Removing elements from objects</h2>
<p>Sometimes you have to remove elements from an object because subsequent data analysis requires it. Removing elements from a <strong>list</strong> or <strong>data frame</strong> can be done by using a selector and assigning the value <code>NULL</code> to the selected elements. Elements can be selected with any of the three types (numeric, logical, character) of index vectors.</p>
<div class="handson">
<ul>
<li>
Make a list <code>v &lt;- list(name=‘John’, children=c(‘John jr.’, ‘Nancy’))</code>. Remove the “children” element by typing <code>v[[‘children’]] &lt;- NULL</code>. Now examine <code>v</code> again
</li>
<li>
Make a data frame <code>d &lt;- data.frame(age=c(20,30,40), weight=c(55,81,76))</code>. Remove the “weight” column by typing <code>d$weight &lt;- NULL</code>. Examine <code>d</code> again.
</li>
</ul>
</div>
<p>In vectors and arrays this “nullification” doesn’t work. In this case you can use, for example, the complement syntax within a selector operator:</p>
<div class="handson">
<ul>
<li>
Make a vector <code>a &lt;- 1:4</code>. Type <code>a[-c(2,3)]</code> and see what you get. Now remove the second and third element from <code>a</code> by reassigning the previous result to <code>a</code>: <code>a &lt;- a[-c(2,3)]</code>. Reexamine <code>a</code>.
</li>
<li>
Suppose you have a logical index vector having a <code>TRUE</code> value for the elements that you would like to remove. For example, you want to remove all elements smaller or equal to 2 using the logical index vector resulting from <code>a &lt;= 2</code>. Remove these elements from <code>a</code> using assignment, the logical index vector, and the logical <em>not</em> operator <code>!</code>. Which other logical operation (apart from <code>a &lt;= 2</code>) could you have used to do this?
</li>
<li>
In arrays you can remove entire (ranges of) rows and columns. Make an array <code>a &lt;- array(1:9, dim=c(3,3))</code>. Remove the second row using complement syntax: <code>a &lt;- a[-2,]</code>. You could also have used <code>a &lt;- a[c(1,3),]</code>.
</li>
</ul>
</div>
</div>
<div id="coercion" class="section level2">
<h2><span class="header-section-number">3.7</span> Data class conversion or coercion</h2>
Sometimes it is necessary to convert objects of one type to another. The following examples demonstrate the use of functions that do this:
<div class="handson">
<ul>
<li>
Make a vector <code>d &lt;- c(‘male’,‘female’,‘male’,‘male’)</code>. Which mode does this vector have? Suppose you realize that these gender indications should be organized in a factor-type vector. You can simply convert the character-type vector to a factor-type vector by using the function <code>as.factor()</code>: <code>d &lt;- as.factor(d)</code>.
</li>
<li>
Make a vector <code>a &lt;- 1:4</code>. Which mode does this vector have? Suppose you want to change it to a character vector. This can be done using <code>a &lt;- as.character(a)</code>.
</li>
<li>
Make a logical vector <code>o &lt;- c(FALSE,TRUE,FALSE)</code>. Change it to a numeric vector by using <code>as.numeric(o)</code>. How are the logical <code>TRUE</code> and <code>FALSE</code> elements translated?
</li>
<li>
Suppose you have a logical vector (here test a short example: <code>c(TRUE, FALSE, FALSE, TRUE)</code>), and want to know the number of times that it contains <code>TRUE</code>. Use the <code>sum()</code> function to calculate this number. Use the logical negation operator <code>!</code> (i.e. <em>not</em>) to calculate the number of <code>FALSE</code> elements. This is again an example of automatic coercion. The function <code>sum()</code> expects a numeric vector. Before caclulating the sum, the <code>as.numeric()</code> coercion function is automatically applied if the input is not numeric.
</li>
</ul>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">3.8</span> Exercises</h2>
<div id="selection" class="section level3 unnumbered">
<h3>Selection</h3>
<ol style="list-style-type: decimal">
<li>Create a vector <code>a &lt;- 1:100</code>. Select its 20 to 25-th elements using the <code>[</code> selector. Find out what type of object this subselection is by applying the function <code>class()</code> to the sub-selection.
<div>
<a id="ElementaryHead1" href="javascript:toggle('ElementarySol1','ElementaryHead1');" >Show solution</a>
</div>
<div id="ElementarySol1" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span>
a[<span class="dv">20</span><span class="op">:</span><span class="dv">25</span>]
<span class="kw">class</span>(a)</code></pre></div>
</div></li>
<li>Select the elements from vector <code>a</code> that are smaller than 20, using a logical index vector.
<div>
<a id="ElementaryHead2" href="javascript:toggle('ElementarySol2','ElementaryHead2');" >Show solution</a>
</div>
<div id="ElementarySol2" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[a<span class="op">&lt;</span><span class="dv">20</span>]</code></pre></div>
</div></li>
<li>Select the even elements from <code>a</code> using a logical index vector that you calculate using one of the functions <code>ceiling()</code>, <code>round()</code>, or <code>trunc()</code>.
<div>
<a id="ElementaryHead3" href="javascript:toggle('ElementarySol3','ElementaryHead3');" >Show solution</a>
</div>
<div id="ElementarySol3" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="kw">round</span>(a<span class="op">/</span><span class="dv">2</span>)<span class="op">==</span>a<span class="op">/</span><span class="dv">2</span>]</code></pre></div>
</div></li>
<li><p>Create a variable <code>n &lt;- 200</code>. Then create a data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">age =</span> <span class="kw">round</span>(<span class="dv">12</span> <span class="op">+</span><span class="st"> </span><span class="dv">70</span><span class="op">*</span><span class="kw">runif</span>(n)), <span class="dt">gender =</span> <span class="kw">factor</span>(<span class="kw">ifelse</span>(<span class="kw">runif</span>(n)<span class="op">&gt;</span><span class="fl">0.5</span>, <span class="st">&#39;male&#39;</span>, <span class="st">&#39;female&#39;</span>)), <span class="dt">smoker =</span> <span class="kw">ifelse</span>(<span class="kw">runif</span>(n)<span class="op">&gt;</span><span class="fl">0.8</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>))</code></pre></div>
Look at its structure and, from their help pages, find out what the functions <code>runif()</code> and <code>ifelse()</code> did. What are the minimum and maximum ages possible using this data construction method?
<div>
<a id="ElementaryHead4" href="javascript:toggle('ElementarySol4','ElementaryHead4');" >Show solution</a>
</div>
<div id="ElementarySol4" style="display: none">
<div class="rmdconstruction">

</div>
</div></li>
<li>Make a sub-selection from <code>d</code> containing the columns “gender” and “smoker” using the <code>[</code> selector. What is the class of the object created by this selection?
<div>
<a id="ElementaryHead5" href="javascript:toggle('ElementarySol5','ElementaryHead5');" >Show solution</a>
</div>
<div id="ElementarySol5" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">subselection &lt;-<span class="st"> </span>d[<span class="kw">c</span>(<span class="st">&#39;gender&#39;</span>,<span class="st">&#39;smoker&#39;</span>)]</code></pre></div>
</div></li>
<li>Select all rows from <code>d</code> containing women. All columns should be included. What type of object is the result?
<div>
<a id="ElementaryHead6" href="javascript:toggle('ElementarySol6','ElementaryHead6');" >Show solution</a>
</div>
<div id="ElementarySol6" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d[d<span class="op">$</span>gender<span class="op">==</span><span class="st">&#39;female&#39;</span>, ]</code></pre></div>
</div></li>
<li>Select all rows from <code>d</code> containing women younger than 50 that smoke.
<div>
<a id="ElementaryHead7" href="javascript:toggle('ElementarySol7','ElementaryHead7');" >Show solution</a>
</div>
<div id="ElementarySol7" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d[d<span class="op">$</span>gender<span class="op">==</span><span class="st">&#39;female&#39;</span> <span class="op">&amp;</span><span class="st"> </span>d<span class="op">$</span>smoker<span class="op">==</span><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span>d<span class="op">$</span>age<span class="op">&lt;</span><span class="dv">50</span>, ]</code></pre></div>
</div></li>
<li>In the previous question you probably have used the syntax <code>d$smoker==TRUE</code>, but you could also just have used <code>d$smoker</code> without the logical <code>==</code> operator and <code>TRUE</code> argument. Try it. Why does this work? Which two options do you have if you want to collect all non-smokers?
<div>
<a id="ElementaryHead8" href="javascript:toggle('ElementarySol8','ElementaryHead8');" >Show solution</a>
</div>
<div id="ElementarySol8" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d[d<span class="op">$</span>gender<span class="op">==</span><span class="st">&#39;female&#39;</span> <span class="op">&amp;</span><span class="st"> </span>d<span class="op">$</span>smoker <span class="op">&amp;</span><span class="st"> </span>d<span class="op">$</span>age<span class="op">&lt;</span><span class="dv">50</span>, ]
<span class="co"># to collect all smokers:</span>
d[d<span class="op">$</span>smoker<span class="op">==</span><span class="ot">FALSE</span>, ]
<span class="co"># or</span>
d[<span class="op">!</span>d<span class="op">$</span>smoker, ]</code></pre></div>
</div></li>
<li>Select the “smoker” column from d using the <code>$</code> selector, the <code>[</code> selector with a numeric index vector and the <code>[</code> selector with an index vector of names (here only one name). For all cases find out what class of object the selected part is.
<div>
<a id="ElementaryHead9" href="javascript:toggle('ElementarySol9','ElementaryHead9');" >Show solution</a>
</div>
<div id="ElementarySol9" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smokers1 &lt;-<span class="st"> </span>d<span class="op">$</span>smoker
smokers2 &lt;-<span class="st"> </span>d[<span class="dv">3</span>]
smokers3 &lt;-<span class="st"> </span>d[<span class="st">&#39;smoker&#39;</span>]
<span class="kw">class</span>(smokers1)
<span class="kw">class</span>(smokers2)
<span class="kw">class</span>(smokers3)</code></pre></div>
</div></li>
<li>Applying a logical function and the function <code>length()</code> on the vector representing the smoker column from <code>d</code>, find out how many smokers there are.
<div>
<a id="ElementaryHead10" href="javascript:toggle('ElementarySol10','ElementaryHead10');" >Show solution</a>
</div>
<div id="ElementarySol10" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(d<span class="op">$</span>smoker[d<span class="op">$</span>smoker])
<span class="co"># or length(d$smoker[d$smoker==TRUE])</span></code></pre></div>
</div></li>
<li>Many basic R-functions automatically try to coerce input that is not of the right type to the type they expect. For example the <code>sum()</code> function expects numeric type. If you give it a logical vector as input then it automatically first applies <code>as.numeric()</code> to this vector (see section <a href="elementary-datatypes.html#coercion">3.7</a> for the effect that this conversion has on a logical vector). Use this property to re-calculate the number of smokers using a logical statement and the <code>sum()</code> function.
<div>
<a id="ElementaryHead11" href="javascript:toggle('ElementarySol11','ElementaryHead11');" >Show solution</a>
</div>
<div id="ElementarySol11" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(d<span class="op">$</span>smoker) <span class="co"># or sum(d$smoker==TRUE)</span>
<span class="co"># Since sum() implicitly performs as.numeric() on its argument, the sum is taken of</span>
<span class="kw">as.numeric</span>(d<span class="op">$</span>smoker)</code></pre></div>
</div></li>
<li>Find out what the minimum and maximum ages are. Also find out the mean and median ages. Use the functions <code>min()</code>, <code>max()</code>, <code>range()</code>, and <code>mean()</code> and <code>median()</code>.
<div>
<a id="ElementaryHead12" href="javascript:toggle('ElementarySol12','ElementaryHead12');" >Show solution</a>
</div>
<div id="ElementarySol12" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(d<span class="op">$</span>age)
<span class="kw">max</span>(d<span class="op">$</span>age)
<span class="kw">range</span>(d<span class="op">$</span>age)
<span class="kw">mean</span>(d<span class="op">$</span>age)
<span class="kw">median</span>(d<span class="op">$</span>age)</code></pre></div>
</div></li>
<li>Many R-objects have their own <code>summary()</code> function encoded with the object. Apply the <code>summary()</code> function to <code>d</code>. Are your previous calculations correct?
<div>
<a id="ElementaryHead13" href="javascript:toggle('ElementarySol13','ElementaryHead13');" >Show solution</a>
</div>
<div id="ElementarySol13" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(d)</code></pre></div>
</div>
<div class="rmdnote">
<p>
Functions having specific implementations for a class of objects are called <strong>class methods</strong>. So, many object classes have their own <code>summary()</code> method, but for example also their own <code>plot()</code> method. Try <code>plot(d)</code>. The plot method for data frames makes by default a pairplot of all variables (columns) against all others (available for other objects too as the graphical function <code>pairs()</code>). In this case not very insightful, but in case of a data frame with multiple numeric columns, it often gives immediate insight in the correlations. Try, for example to plot the standard iris data set: <code>plot(iris)</code>.
</p>
</div></li>
<li>Using the complement syntax (<a href="elementary-datatypes.html#complement-syntax">3.5.3</a>), select the rows 11-100 from <code>d</code>. You will have to use the <code>c()</code> function too.
<div>
<a id="ElementaryHead14" href="javascript:toggle('ElementarySol14','ElementaryHead14');" >Show solution</a>
</div>
<div id="ElementarySol14" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d[<span class="op">-</span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,<span class="dv">101</span><span class="op">:</span><span class="dv">200</span>),]</code></pre></div>
</div></li>
<li><p>Create a factor with three levels:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">servedsteaks &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&#39;rare&#39;</span>,<span class="st">&#39;medium&#39;</span>,<span class="st">&#39;done&#39;</span>)[<span class="kw">trunc</span>(<span class="kw">runif</span>(<span class="dv">30</span>)<span class="op">*</span><span class="dv">3</span>)<span class="op">+</span><span class="dv">1</span>])</code></pre></div></li>
<li>Now create a new vector <code>steaks1</code> selecting only the elements with “rare” and “medium” in <code>servedsteaks</code>. What is the most efficient way to do this?
<div>
<a id="ElementaryHead15" href="javascript:toggle('ElementarySol15','ElementaryHead15');" >Show solution</a>
</div>
<div id="ElementarySol15" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">steaks1 &lt;-<span class="st"> </span>servedsteaks[servedsteaks <span class="op">!=</span><span class="st"> &#39;done&#39;</span>]</code></pre></div>
</div></li>
<li>Query the levels of <code>steaks1</code> using the <code>levels()</code> function. If you did the right thing in the previous question, you will see that the new factor still encodes the level “done” although it is not present in the vector anymore. Find out how you can most efficiently drop the unused levels from a factor: In R versions 2.12 or above there is a function <code>droplevels</code> especially made for this. In lower versions (but also above 2.12) you can use the “drop” argument of the <code>[</code> selector method for objects of the factor class. Type <code>help('[.factor')</code> to retrieve the help page for this specific method.
<div>
<a id="ElementaryHead16" href="javascript:toggle('ElementarySol16','ElementaryHead16');" >Show solution</a>
</div>
<div id="ElementarySol16" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(steaks1) <span class="co"># yields: [1] &quot;done&quot; &quot;medium&quot; &quot;rare&quot;&quot;</span>
steaks1 &lt;-<span class="st"> </span><span class="kw">droplevels</span>(steaks1)
<span class="co"># help for the &#39;[ function shows we can use the &#39;drop&#39; argument</span>
?<span class="st">&#39;[&#39;</span>
steaks2 &lt;-<span class="st"> </span>servedsteaks[servedsteaks <span class="op">!=</span><span class="st"> &#39;done&#39;</span>, drop=<span class="ot">TRUE</span>]
<span class="kw">levels</span>(steaks2)</code></pre></div>
</div></li>
<li><p>Create a list of lists:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flintstones &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">person1=</span><span class="kw">list</span>(<span class="dt">name=</span><span class="st">&#39;Fred&#39;</span>, <span class="dt">kids=</span><span class="kw">c</span>(<span class="st">&#39;Pebbles&#39;</span>), <span class="dt">married=</span><span class="ot">TRUE</span>, <span class="dt">pets=</span><span class="kw">c</span>(<span class="st">&#39;Dino&#39;</span>,<span class="st">&#39;Baby Puss&#39;</span>,<span class="st">&#39;Doozy&#39;</span>)), <span class="dt">person2=</span><span class="kw">list</span>(<span class="dt">name=</span><span class="st">&#39;Barney&#39;</span>, <span class="dt">kids=</span><span class="st">&#39;Bamm-Bamm&#39;</span>, <span class="dt">married=</span><span class="ot">TRUE</span>, <span class="dt">pets=</span><span class="st">&#39;Hoppy&#39;</span>))</code></pre></div></li>
<li>Select <code>person2</code> using the <code>[</code> and the <code>[[</code> operators, both with numeric and named index vectors. What are the classes of the selected data objects (they should be the same class)? Can you understand why the objects are, nevertheless, different?
<div>
<a id="ElementaryHead17" href="javascript:toggle('ElementarySol17','ElementaryHead17');" >Show solution</a>
</div>
<div id="ElementarySol17" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person2.singlebracket &lt;-<span class="st"> </span>flintstones[<span class="st">&#39;person2&#39;</span>]
person2.doublebracket &lt;-<span class="st"> </span>flintstones[[<span class="st">&#39;person2&#39;</span>]]
<span class="kw">class</span>(person2.singlebracket)
<span class="kw">class</span>(person2.doublebracket)</code></pre></div>
<p>These are different because the single bracket selector takes a container from the original list, whereas the double bracket selector extracts the object out of the container.</p>
</div></li>
<li>Actually, the <code>[</code>, <code>[[</code>, and <code>$</code> operators are just functions which are recognized with a special syntax. But the normal function syntax (functionname(argument1, argument2, …)) is recognized for these operators too. Try <code>'['(flintstones, 'person2')</code>, <code>'[['(flintstones, 'person2')</code>, and <code>'$'('[['(flintstones, 'person2'), 'kids')</code> (notice the quotes around the names of the functions).</li>
<li>Random draws, set operations
<ul>
<li>Make a vector <code>d</code> containing the numbers 101…200.
</li></li>
<li>Use the <code>sample()</code> function to take a random sample of size 50 from <code>d</code>, and put that sample in the vector <code>s</code>.</li>
<li>What do you get if you just type <code>sample(d)</code>? Also look it up in the help function: this selection has a special name.</li>
<li>Use the <code>%in%</code> and logical not <code>!</code> functions to select all remaining numbers from <code>d</code> that are <strong>not</strong> in <code>s</code> and put those in the vector <code>t</code>.</li>
<li>Verify, using <em>Set Operations</em> from R (see help files), that the intersection of sets <code>s</code> and <code>t</code> equals the empty set (<span class="math inline">\(s\cap t=\oslash\)</span> ) and that their union equals the set <code>d</code> (<span class="math inline">\(s\cup t=d\)</span>). You might want to use the function <code>all()</code>.</li>
</ul>
<div>
<a id="ElementaryHead18" href="javascript:toggle('ElementarySol18','ElementaryHead18');" >Show solution</a>
</div>
<div id="ElementarySol18" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="dv">101</span><span class="op">:</span><span class="dv">200</span>
s &lt;-<span class="st"> </span><span class="kw">sample</span>(d, <span class="dv">50</span>)
<span class="co"># sample(d) gives a random permutation of the original vector d</span>
t &lt;-<span class="st"> </span>d[<span class="op">!</span>(d <span class="op">%in%</span><span class="st"> </span>s)]
<span class="kw">length</span>(<span class="kw">intersect</span>(t,s)) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>
<span class="kw">all</span>(d <span class="op">%in%</span><span class="st"> </span><span class="kw">union</span>(t,s))</code></pre></div>
</div></li>
</ol>
</div>
<div id="more-selection-vectors-and-sequences" class="section level3 unnumbered">
<h3>More selection, vectors and sequences</h3>
<ol style="list-style-type: decimal">
<li>Vector v
<ul>
<li>Create a vector, called <code>v</code>, with even numbers between 16 and 56, using the function <code>seq()</code>. Display this vector.</li>
<li>What is the sum of all elements of <code>v</code>?</li>
<li>Display the first 4 elements of <code>v</code></li>
<li>Calculate the product of the first 4 elements of <code>v</code></li>
<li>Display the 4th, 9th and 11th element of <code>v</code> using the <code>c()</code> function.</li>
</ul>
<div>
<a id="ElementaryHead19" href="javascript:toggle('ElementarySol19','ElementaryHead19');" >Show solution</a>
</div>
<div id="ElementarySol19" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">v &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">16</span>, <span class="dt">to=</span><span class="dv">56</span>, <span class="dt">by=</span><span class="dv">2</span>)
<span class="kw">sum</span>(v)
v[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]
<span class="kw">prod</span>(v[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>])
v[<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">11</span>)]</code></pre></div>
</div></li>
<li>vector w
<ul>
<li>Create a new vector, <code>w</code>, which is equal to <code>v</code> multiplied by 3; display its content.</li>
<li>How many elements of <code>w</code> are smaller than 100? Create two solutions using either the <code>length()</code> or the <code>sum()</code> function.</li>
<li>Create a vector that contains the values (1, 1/2, 1/3, 1/4, …, 1/10) without typing each of the entries. (use the <code>seq()</code> or <code>:</code> functions as well as element-by-element vector division)</li>
<li>Compute the square root of each element of this vector</li>
<li>Compute the square of each element</li>
<li>Compute the sum of all squared elements. Leonhard Euler proved, by solving the <a href="https://en.wikipedia.org/wiki/Basel_problem">Basel problem</a>, that this sum converges to <span class="math inline">\(\frac{\pi^2}{6}\)</span>. Can you support this numerically?</li>
<li>Create a sequence with values (0/1, 1/2, 2/3, 3/4, …, 9/10)</li>
</ul>
<div>
<a id="ElementaryHead20" href="javascript:toggle('ElementarySol20','ElementaryHead20');" >Show solution</a>
</div>
<div id="ElementarySol20" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">w &lt;-<span class="st"> </span><span class="dv">3</span><span class="op">*</span>v
w
<span class="kw">sum</span>(w<span class="op">&lt;</span><span class="dv">100</span>) <span class="co"># or length(w[w&lt;100])</span>
x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">/</span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
<span class="kw">sqrt</span>(x)
x<span class="op">^</span><span class="dv">2</span>
<span class="kw">sum</span>(x<span class="op">^</span><span class="dv">2</span>)
<span class="kw">sum</span>(x<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(pi<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">6</span>) <span class="co"># = 0.942</span>
<span class="kw">sum</span>((<span class="dv">1</span><span class="op">/</span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(pi<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">6</span>) <span class="co"># = 0.994</span>
<span class="kw">sum</span>((<span class="dv">1</span><span class="op">/</span><span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(pi<span class="op">^</span><span class="dv">2</span><span class="op">/</span><span class="dv">6</span>) <span class="co"># = 0.9994: This ratio seems to approach 1 which means that </span>
<span class="co"># the sum 1/x^2 x -&gt; inf possibly approaches pi^2/6.</span>
<span class="dv">0</span><span class="op">:</span><span class="dv">9</span><span class="op">/</span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></code></pre></div>
</div></li>
<li>vector u
<ul>
<li>Create a vector, <code>u</code>, with 100 random numbers, uniformly distributed between -1 and 1.</li>
<li>Check the range of <code>u</code> using the <code>range()</code> function; all values should be between -1 and +1.</li>
<li>Calculate the sum and the product of the elements of <code>u</code>.</li>
<li>How many elements of <code>u</code> are positive?</li>
<li>Make all negative values of <code>u</code> equal to 0.</li>
<li>Sort <code>u</code>.</li>
</ul>
<div>
<a id="ElementaryHead21" href="javascript:toggle('ElementarySol21','ElementaryHead21');" >Show solution</a>
</div>
<div id="ElementarySol21" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">u &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">100</span>, <span class="dt">min=</span><span class="op">-</span><span class="dv">1</span>, <span class="dt">max=</span><span class="dv">1</span>)
<span class="kw">range</span>(u)
<span class="kw">sum</span>(u)
<span class="kw">prod</span>(u)
<span class="kw">sum</span>(u <span class="op">&gt;=</span><span class="st"> </span><span class="dv">0</span>)
u[u<span class="op">&lt;</span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
<span class="kw">sort</span>(u)</code></pre></div>
</div></li>
<li>vectors x, y
<ul>
<li>Create two vectors: vector <code>x</code>, with the elements: 2,9,0,2,7,4,0 and vector <code>y</code> with the elements 3,5,0,2,5,4,6 (in that order).</li>
<li>Divide all the elements of <code>y</code> by the elements of <code>x</code>.</li>
<li>Type in the following commands; try to understand:
<ul>
<li><code>x&gt;y</code></li>
<li><code>x==0</code> (Why can’t you use <code>x=0</code>? Or better: what does <code>x=0</code> do?)</li>
</ul></li>
<li>Select all values of <code>y</code> that are larger than the corresponding values of <code>x</code></li>
<li>Select all values of <code>y</code> for which the corresponding values of <code>x</code> are 0.</li>
<li>Remove all values of <code>y</code> for which the corresponding values of <code>x</code> equal 0.</li>
<li>Make all elements of <code>x</code> that are larger or equal than 7 equal to 0. Display <code>x</code>.</li>
</ul>
<div>
<a id="ElementaryHead22" href="javascript:toggle('ElementarySol22','ElementaryHead22');" >Show solution</a>
</div>
<div id="ElementarySol22" style="display: none">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">9</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">0</span>)
y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">6</span>)
y<span class="op">/</span>x
x<span class="op">&gt;</span>y <span class="co"># logical vector with number of index positions equal to x and y </span>
x<span class="op">==</span><span class="dv">0</span> <span class="co"># logical vector x=0 would be an assignment</span>
y[y<span class="op">&gt;</span>x]
y[x<span class="op">==</span><span class="dv">0</span>]
y[x<span class="op">!=</span><span class="dv">0</span>]
x[x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">7</span>] &lt;-<span class="st"> </span><span class="dv">0</span>
x</code></pre></div>
</div></li>
<li>Matrices
<ul>
<li>Use function <code>matrix()</code> to create a matrix with the following contents: <span class="math display">\[
\left[
\begin{array}{cc}
3 &amp; 9\\
7 &amp; 4
\end{array}
\right]
\]</span></li>
<li>Display it to the screen.</li>
<li>Use function <code>matrix()</code> to create a matrix called <code>A</code> (you do not have to type each entry individually): <span class="math display">\[
\left[
\begin{array}{ccc}
1 &amp; \frac{1}{2} &amp; \frac{1}{3}\\
\frac{1}{4} &amp; \frac{1}{5} &amp; \frac{1}{6}\\
\frac{1}{7} &amp; \frac{1}{8} &amp; \frac{1}{9}
\end{array}
\right]
\]</span></li>
<li>Take the transpose of <code>A</code>.</li>
<li>Create a new matrix, <code>B</code>, by extracting the first two rows and first two columns of <code>A</code>. Display it to the screen.</li>
<li>Use function <code>diag()</code> to create the following matrix, called <code>D</code>: <span class="math display">\[
\left[
\begin{array}{ccc}
1 &amp; 0 &amp; 0\\
0 &amp; 2 &amp; 0\\
0 &amp; 0 &amp; 3
\end{array}
\right]
\]</span></li>
<li>Use functions <code>cbind()</code> and <code>rbind()</code> to augment this matrix, such that you obtain: <span class="math display">\[
\left[
\begin{array}{cccc}
1 &amp; 0 &amp; 0 &amp; 4\\
0 &amp; 2 &amp; 0 &amp; 4\\
0 &amp; 0 &amp; 3 &amp; 4\\
5 &amp; 5 &amp; 5 &amp; 5
\end{array}
\right]
\]</span> <em>It is simplest to do this in two statements (but it can be done in one!)</em></li>
<li>Remove the second row and second column of the previous matrix.</li>
</ul>
<div>
<a id="ElementaryHead23" href="javascript:toggle('ElementarySol23','ElementaryHead23');" >Show solution</a>
</div>
<div id="ElementarySol23" style="display: none">
<div class="rmdconstruction">

</div>
</div></li>
<li>Internally, matrices in R are represented as vectors with additional dimension attribute. Type <code>attributes(A)</code> or <code>dim(A)</code> to show its <code>dim</code> attribute and <code>as.vector(A)</code> to show its content vector. Do you see that the content vector runs column by column? selecting the first three elements of the content vector by <code>A[1:3]</code> gives you the entries of the first column.</li>
</ol>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>In an <em>tuple</em> every element is uniquely associated with an index position. This in contrast to a set which is just a bag of things in which the order of elements doesn’t matter.<a href="elementary-datatypes.html#fnref1">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="quick-start.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="interacting-with-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "libs/mathjax-local/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
