---
title: "DMTA2"
author: "S"
date: "14 de mayo de 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Before start:

* Clean the Environment
```{r}
rm(list=ls())
```

* Set path
```{r}
setwd("C:/Users/SILVIA TOSHIBA/Documents/MASTER/Data mining techniques/Assignment 2/Data")
```


Split in Train, Test and Validation set
```{r}
library(tidyr)
#Load the data
#all_train <- read.csv("train.csv", header = TRUE)
#real_test <- read.csv("test.csv", header = TRUE)

#LOAD A SUBSET OF THE DATA FOR MY OWN COMPUTER, NOT ABLE TO LOAD THE WHOLE DATA
all_train <- read.csv("train.csv",header=TRUE, nrows = 100000)
#real_test <- read.csv("train.csv",header=TRUE, nrows = 1000)

all_train <- all_train %>%
  group_by(srch_id)

all_length <- nrow(all_train)
splity <- all_length*0.15
test <- all_train[1:splity,]
splited_train <- all_train[(splity+1):all_length,]
# Modify number of cucus depending on the srch_id cutoff
rm(all_train)

#Second split of the data
dt <- sort(sample(nrow(splited_train), nrow(splited_train)*.82353)) #to have 15% of the real_train.
train <- splited_train[dt,]
validation <- splited_train[-dt,]
#Deletin of the not useful variables
rm(splited_train, dt)
rm(splity, all_length)
```

